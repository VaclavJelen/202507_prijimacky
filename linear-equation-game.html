<!DOCTYPE html>
<html lang="cs">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Line√°rn√≠ rovnice - Hra</title>
    <style>
        body { 
            font-family: 'Comic Sans MS', 'Comic Sans', cursive, Arial, sans-serif; 
            background: linear-gradient(135deg, #f9e7fe 0%, #c2f0fc 100%); 
            margin: 0; padding: 0; 
        }
        .container { 
            max-width: 500px; 
            margin: 40px auto; 
            background: #fffbe7; 
            border-radius: 24px; 
            box-shadow: 0 4px 16px #0002; 
            padding: 36px 28px 32px 28px; 
            border: 4px solid #ffe066;
            position: relative;
        }
        .mascot {
            font-size: 3.2em;
            text-align: center;
            margin-bottom: 8px;
        }
        h1 { 
            text-align: center; 
            color: #ff7f50; 
            font-size: 2.1em;
            margin-bottom: 10px;
            letter-spacing: 1px;
        }
        .equation { 
            font-size: 1.7em; 
            text-align: center; 
            margin: 28px 0 18px 0; 
            color: #3b82f6;
            font-weight: bold;
        }
        .input-row { 
            display: flex; 
            justify-content: center; 
            align-items: center; 
            gap: 10px; 
            margin-bottom: 18px; 
        }
        label {
            font-size: 1.2em;
            color: #ff7f50;
        }
        input[type="number"] { 
            font-size: 1.3em; 
            padding: 6px 12px; 
            width: 90px; 
            border-radius: 10px; 
            border: 2px solid #a0e7e5;
            background: #fff;
            transition: border 0.2s;
        }
        input[type="number"]:focus {
            border: 2.5px solid #3b82f6;
            outline: none;
        }
        button { 
            font-size: 1.1em; 
            padding: 8px 22px; 
            border-radius: 12px; 
            border: none; 
            background: linear-gradient(90deg, #ffb347 0%, #ffcc33 100%); 
            color: #fff; 
            cursor: pointer; 
            font-weight: bold;
            box-shadow: 0 2px 6px #0001;
            transition: background 0.2s, transform 0.1s;
        }
        button:active {
            transform: scale(0.97);
        }
        button:disabled { 
            background: #eee; 
            color: #aaa; 
        }
        .result { 
            text-align: center; 
            font-size: 1.2em; 
            margin: 14px 0; 
            font-weight: bold;
            min-height: 1.5em;
        }
        .steps { 
            background: #e0f7fa; 
            border-radius: 14px; 
            padding: 18px; 
            margin-top: 22px; 
            border: 2px dashed #a0e7e5;
        }
        .step { 
            margin-bottom: 16px; 
            font-size: 1.08em;
        }
        .step .comment { 
            color: #ff7f50; 
            font-size: 1em; 
            margin-top: 3px; 
        }
        .next-btn { 
            display: block; 
            margin: 28px auto 0 auto; 
            background: linear-gradient(90deg, #3b82f6 0%, #60e7ff 100%); 
            color: #fff; 
            font-size: 1.1em; 
            border-radius: 12px; 
            padding: 10px 28px; 
            font-weight: bold;
        }
        @media (max-width: 600px) {
            .container { padding: 18px 4vw 18px 4vw; }
            h1 { font-size: 1.3em; }
            .equation { font-size: 1.1em; }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="mascot" title="maskot">ü¶â</div>
        <h1>Line√°rn√≠ rovnice: Najdi x</h1>
        <div class="equation" id="equation"></div>
        <form id="answer-form" autocomplete="off">
            <div class="input-row">
                <label for="user-x">x =</label>
                <input type="number" id="user-x" required autocomplete="off" />
                <button type="submit">Ovƒõ≈ôit</button>
            </div>
        </form>
        <div class="result" id="result"></div>
        <div class="steps" id="steps"></div>
        <button class="next-btn" id="next-btn" style="display:none;">Dal≈°√≠ rovnice</button>
    </div>
    <script>
        // Pomocn√© funkce pro generov√°n√≠ rovnic
        function getRandomInt(min, max, excludeZero = false) {
            let n;
            do {
                n = Math.floor(Math.random() * (max - min + 1)) + min;
            } while (excludeZero && n === 0);
            return n;
        }

        // Typy rovnic:
        // 1) ax + b = c
        // 2) a + bx = c
        // 3) ax + b = dx + e
        // 4) a + bx = d + ex
        // V≈ædy x na lev√©, prav√©, nebo obou stran√°ch
        function generateEquation() {
            const type = getRandomInt(1, 4);
            let a, b, c, d, e, x, equationStr, solution, steps;
            switch (type) {
                case 1: // ax + b = c
                    x = getRandomInt(-10, 10, true);
                    a = getRandomInt(-5, 5, true);
                    b = getRandomInt(-10, 10);
                    c = a * x + b;
                    equationStr = `${a === 1 ? '' : a === -1 ? '-' : a}x ${b >= 0 ? '+ ' + b : '- ' + Math.abs(b)} = ${c}`;
                    solution = x;
                    steps = [
                        {
                            eq: `${a === 1 ? '' : a === -1 ? '-' : a}x ${b >= 0 ? '+ ' + b : '- ' + Math.abs(b)} = ${c}`,
                            comment: 'Zad√°n√≠ rovnice.'
                        },
                        {
                            eq: `${a === 1 ? '' : a === -1 ? '-' : a}x = ${c - b}`,
                            comment: b === 0 ? 'Na lev√© stranƒõ je pouze ƒçlen s x.' : `Odeƒçteme ${b >= 0 ? b : '(' + b + ')'} od obou stran, abychom osamostatnili x.`
                        },
                        {
                            eq: `x = ${(c - b) / a}`,
                            comment: a === 1 ? 'x je ji≈æ osamostatnƒõn√©.' : `Vydƒõl√≠me obƒõ strany ${a === -1 ? '-1' : a}, abychom z√≠skali x.`
                        }
                    ];
                    break;
                case 2: // a + bx = c
                    x = getRandomInt(-10, 10, true);
                    b = getRandomInt(-5, 5, true);
                    a = getRandomInt(-10, 10);
                    c = b * x + a;
                    equationStr = `${a} ${b >= 0 ? '+ ' + b : '- ' + Math.abs(b)}x = ${c}`;
                    solution = x;
                    steps = [
                        {
                            eq: `${a} ${b >= 0 ? '+ ' + b : '- ' + Math.abs(b)}x = ${c}`,
                            comment: 'Zad√°n√≠ rovnice.'
                        },
                        {
                            eq: `${b === 1 ? '' : b === -1 ? '-' : b}x = ${c - a}`,
                            comment: a === 0 ? 'Na lev√© stranƒõ je pouze ƒçlen s x.' : `Odeƒçteme ${a >= 0 ? a : '(' + a + ')'} od obou stran, abychom osamostatnili x.`
                        },
                        {
                            eq: `x = ${(c - a) / b}`,
                            comment: b === 1 ? 'x je ji≈æ osamostatnƒõn√©.' : `Vydƒõl√≠me obƒõ strany ${b === -1 ? '-1' : b}, abychom z√≠skali x.`
                        }
                    ];
                    break;
                case 3: // ax + b = dx + e
                    x = getRandomInt(-10, 10, true);
                    a = getRandomInt(-5, 5, true);
                    d = getRandomInt(-5, 5, true);
                    while (a === d) d = getRandomInt(-5, 5, true); // aby x nezmizelo
                    b = getRandomInt(-10, 10);
                    e = a * x + b - d * x;
                    equationStr = `${a === 1 ? '' : a === -1 ? '-' : a}x ${b >= 0 ? '+ ' + b : '- ' + Math.abs(b)} = ${d === 1 ? '' : d === -1 ? '-' : d}x ${e >= 0 ? '+ ' + e : '- ' + Math.abs(e)}`;
                    solution = x;
                    steps = [
                        {
                            eq: `${a === 1 ? '' : a === -1 ? '-' : a}x ${b >= 0 ? '+ ' + b : '- ' + Math.abs(b)} = ${d === 1 ? '' : d === -1 ? '-' : d}x ${e >= 0 ? '+ ' + e : '- ' + Math.abs(e)}`,
                            comment: 'Zad√°n√≠ rovnice.'
                        },
                        {
                            eq: `${a - d === 1 ? '' : a - d === -1 ? '-' : a - d}x = ${e - b}`,
                            comment: d === 0 ? 'Na prav√© stranƒõ nen√≠ x.' : `Odeƒçteme ${d === 1 ? '' : d === -1 ? '-' : d}x od obou stran, abychom dostali v≈°echny x na jednu stranu.`
                        },
                        {
                            eq: `x = ${(e - b) / (a - d)}`,
                            comment: (a - d) === 1 ? 'x je ji≈æ osamostatnƒõn√©.' : `Vydƒõl√≠me obƒõ strany ${a - d}, abychom z√≠skali x.`
                        }
                    ];
                    break;
                case 4: // a + bx = d + ex
                    x = getRandomInt(-10, 10, true);
                    b = getRandomInt(-5, 5, true);
                    e = getRandomInt(-5, 5, true);
                    while (b === e) e = getRandomInt(-5, 5, true);
                    a = getRandomInt(-10, 10);
                    d = b * x + a - e * x;
                    equationStr = `${a} ${b >= 0 ? '+ ' + b : '- ' + Math.abs(b)}x = ${d} ${e >= 0 ? '+ ' + e : '- ' + Math.abs(e)}x`;
                    solution = x;
                    steps = [
                        {
                            eq: `${a} ${b >= 0 ? '+ ' + b : '- ' + Math.abs(b)}x = ${d} ${e >= 0 ? '+ ' + e : '- ' + Math.abs(e)}x`,
                            comment: 'Zad√°n√≠ rovnice.'
                        },
                        {
                            eq: `${b - e === 1 ? '' : b - e === -1 ? '-' : b - e}x = ${d - a}`,
                            comment: e === 0 ? 'Na prav√© stranƒõ nen√≠ x.' : `Odeƒçteme ${e === 1 ? '' : e === -1 ? '-' : e}x od obou stran, abychom dostali v≈°echny x na jednu stranu.`
                        },
                        {
                            eq: `x = ${(d - a) / (b - e)}`,
                            comment: (b - e) === 1 ? 'x je ji≈æ osamostatnƒõn√©.' : `Vydƒõl√≠me obƒõ strany ${b - e}, abychom z√≠skali x.`
                        }
                    ];
                    break;
            }
            return { equationStr, solution, steps };
        }

        let currentEquation = null;

        function showEquation() {
            currentEquation = generateEquation();
            document.getElementById('equation').textContent = currentEquation.equationStr;
            document.getElementById('user-x').value = '';
            document.getElementById('result').textContent = '';
            document.getElementById('steps').innerHTML = '';
            document.getElementById('next-btn').style.display = 'none';
        }

        function showSteps(steps) {
            const stepsDiv = document.getElementById('steps');
            stepsDiv.innerHTML = '';
            steps.forEach((step, i) => {
                const div = document.createElement('div');
                div.className = 'step';
                div.innerHTML = `<b>Krok ${i+1}:</b> ${step.eq}<div class="comment">${step.comment}</div>`;
                stepsDiv.appendChild(div);
            });
        }

        document.getElementById('answer-form').addEventListener('submit', function(e) {
            e.preventDefault();
            const userX = parseInt(document.getElementById('user-x').value, 10);
            if (isNaN(userX)) return;
            if (userX === currentEquation.solution) {
                document.getElementById('result').textContent = 'Spr√°vnƒõ!';
                document.getElementById('result').style.color = '#2a4d69';
            } else {
                document.getElementById('result').textContent = `≈†patnƒõ, spr√°vnƒõ je x = ${currentEquation.solution}`;
                document.getElementById('result').style.color = '#c0392b';
            }
            showSteps(currentEquation.steps);
            document.getElementById('next-btn').style.display = 'block';
        });

        document.getElementById('next-btn').addEventListener('click', showEquation);

        // Prvn√≠ rovnice
        showEquation();
    </script>
</body>
</html> 